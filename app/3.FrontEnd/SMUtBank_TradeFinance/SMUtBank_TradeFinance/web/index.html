<!DOCTYPE html>
<html lang="en" class="bg-dark">
<head>
  <meta charset="utf-8" />
  <title>SMU tBank Trade Finance - Login</title>
  <meta name="description" content="app, web app, responsive, admin dashboard, admin, flat, flat ui, ui kit, off screen nav" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> 
  <link rel="stylesheet" href="assets/css/bootstrap.css" type="text/css" />
  <link rel="stylesheet" href="assets/css/animate.css" type="text/css" />
  <link rel="stylesheet" href="assets/css/font-awesome.min.css" type="text/css" />
  <link rel="stylesheet" href="assets/css/font.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/app.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="assets/js/ie/html5shiv.js"></script>
    <script src="assets/js/ie/respond.min.js"></script>
    <script src="assets/js/ie/excanvas.js"></script>
  <![endif]-->
  <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
</head>
<body class="">
  <section id="content" class="m-t-lg wrapper-md animated fadeInUp">    
    <div class="container aside-xxl">
      <a class="navbar-brand block" href="">SMU tBank</a>
      <section class="panel panel-default bg-white m-t-lg">
        <header class="panel-heading text-center">
          <strong>Sign in</strong>
        </header>
        <form class="panel-body wrapper-lg" role="form" id="signInForm" method = "post">
          <div class="form-group">
            <label class="control-label">Username</label>
            <input type="text" placeholder="Username" class="form-control input-lg" name="username" id="username" required />
          </div>
          <div class="form-group">
            <label class="control-label">Password</label>
            <input type="password" placeholder="Password" class="form-control input-lg" name="password" id= "password" required />
          </div> 
          <div class="form-group">
            <label class="control-label">User Type</label>
            <select name="account" class="form-control m-b" id="type" required>
                <option value="">----Please select a user type----</option>
                <option value="1">Importer</option>
                <option value="2">Exporter</option>
                <option value="3">Issuing Bank</option>
                <option value="4">Advising Bank</option>
            </select>          
          </div>
          <div id="authError"></div>
          <input type="submit" class="btn btn-primary" id="loginBtn" value="Sign in" />
          <div class="line line-dashed"></div>
        </form>
        
      </section>
    </div>
  </section>
 
 <!--
 userID: "kinetic1",
PIN: "123456",
OTP: "999999"-->
  <script>
        $(document).ready(function() {
            $("#loginBtn").click(function(event) {
                //temporary redirection without authentication
                var type = document.getElementById("type").value;
                if (type !== ""){
                    if (type === "1"){ //redirect to importer homeage
                    window.location.replace("/SMUtBank_TradeFinance/importer/importer.html");  
                    } else if (type === "2"){ //redirect to exporter homepage
                        window.location.replace("/SMUtBank_TradeFinance/exporter/exporter.html");  
                    } else if (type === "3"){//redirect to issuing bank homepage
                        window.location.replace("/SMUtBank_TradeFinance/issuingBank/issuingBank.html");  
                    } else if (type === "4"){//redirect to advising homepage
                        window.location.replace("/SMUtBank_TradeFinance/advisingBank/advisingBank.html");  
                    } 
                    
                } else {
                    $("div#authError").html("Please select a type");
                }
                
                //calling authentication service
                
                   /* var username = document.getElementById("username").value;
                    var password = document.getElementById("password").value;
                    var type = document.getElementById("type").value;
                    if (username.trim() === "" || password.trim() === "" || type.trim() === "") {
                        //showErrorModal("Please fill in both username and password to login.");
                    } else {
                        // send json to servlet
                        $.ajax({
                            url: 'localhost:9001://XXX',
                            type: 'POST',
                            dataType: 'json',
                            data: $('#signInForm').serialize(),
                            success: function(data) {
                                if (data.success) { 
                                    if (type === "1"){
                                       window.location.replace("/SMUtBank_TradeFinance/importer/home.html");  
                                    } else if (type === "2"){
                                       window.location.replace("/SMUtBank_TradeFinance/exporter/home.html");  
                                    } else if (type === "3"){
                                       window.location.replace("/SMUtBank_TradeFinance/issuingBank/home.html");  
                                    } else {
                                       window.location.replace("/SMUtBank_TradeFinance/advisingBank/home.html");  
                                    }            
                                } else {
                                    //showErrorModal("Username and password does not match.");
                                    return;
                                }
                            },
                            error: function(xhr, status, error) {
                                alert(xhr.error);
                        }
                        });
                    }*/
                });
            });

      
      
      
      
  

  </script>
  <script src="assets/js/jquery.min.js"></script>
  <!-- Bootstrap -->
  <script src="assets/js/bootstrap.js"></script>
  <!-- App -->
  <script src="assets/js/app.js"></script> 
  <script src="assets/js/slimscroll/jquery.slimscroll.min.js"></script>
    <script src="assets/js/app.plugin.js"></script>
</body>
</html>
