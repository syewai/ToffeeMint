<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="../assets/css/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../assets/css/animate.css" type="text/css" />
    <link rel="stylesheet" href="../assets/css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="../assets/css/font.css" type="text/css" />
    <link rel="stylesheet" href="../assets/css/app.css" type="text/css" />
    <link rel="stylesheet" href="../assets/css/bootstrap-datetimepicker.min.css">
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
</head>


<section class="vbox">
    <section class="scrollable">

        <div class="wrapper-lg">
            <h2 class="m-b-xs font-bold m-t-none">Apply Letter of Credits</h2>

        </div>
        <form id="loginForm" class="padder">

            <div class="row">
                <div class="col-sm-6">

                    <section class="panel panel-default">
                        <header class="panel-heading">
                            <span class="h4">Exporter ID</span>
                        </header>
                        <div class="panel-body">
                            <p class="text-muted">Please select an exporter to continue</p>
                            <div class="form-group">

                                <div class="">
                                    <!--get exporter id, account no and name from alan's database-->
                                    <select id="exporterId" name="exporterId" class="form-control m-b ">
                                        <option value="">--Please select an exporter--</option>
                                        <option value="1001">ToffeeMint1</option>
                                        <option value="1002">ToffeeMint2</option>
                                        <option value="1003">ToffeeMint3</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </section>

                </div>


                <div class="col-sm-6">

                    <section class="panel panel-default formHidden">
                        <header class="panel-heading">
                            <span class="h4">Exporter Information</span>
                        </header>
                        <div class="panel-body">
                            <div class="form-group">
                                <h4>Exporter ID</h4>
                                <p id="printExpId"></p>
                            </div>
                            <div class="form-group">
                                <h4>Bank</h4>
                                <p>UOB</p>
                            </div>
                            <div class="form-group">
                                <h4>Account Number</h4>
                                <p>456789</p>
                            </div>
                        </div>
                    </section>

                </div>
            </div>

            <div class="row">
                <div class="col-sm-6">
                    <section class="panel panel-default formHidden">
                        <header class="panel-heading">
                            <span class="h4">Goods Description</span>
                        </header>
                        <div class="panel-body">
                            <div class="form-group">
                                <input id="goodsDesc"  type="text"  class="form-control goodsDesc" name="goodsDesc" data-required="true" required>
                            </div>
                        </div>
                    </section>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-6">
                    <section class="panel panel-default formHidden">
                        <header class="panel-heading">
                            <span class="h4">Other Information</span>
                        </header>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>Amount</label>
                                <input id="amount" type="text" class="form-control" data-type="digits" data-required="true" required>
                            </div>

                            <div class="form-group">
                                <label for="expiryDate">Expiry Date</label>
                                <input type='text' class="form-control form_date" id='expiryDate' data-date="" data-date-format="yyyy-mm-dd" data-link-field="expiryDate" data-link-format="yyyy-mm-dd" name="expiryDate" data-required="true" required/>
                            </div>

                            <div class="form-group">
                                <label>Additional Conditions</label>
                                <textarea id="additonalConditions"  class="form-control" rows="6" data-required="true" placeholder="Additional Conditions" name="additonalConditions" required></textarea>
                            </div>
                            <div class="form-group">
                                <label>Upload Bill of Exchange</label>
                                <input type="file" class="filestyle" data-icon="false" data-classButton="btn btn-default" data-classInput="form-control inline input-s">
                            </div>
                            <footer class="text-center bg-light lter">
                                <button id="create_button_api" type="button" class="btn btn-success btn-s-xs">Submit</button>
                                <!--<button id="create_button_bc" type="button" class="btn btn-success btn-s-xs">Submit TO Block chain</button>-->
                            </footer>
                        </div>
                    </section>
                </div>
            </div>

        </form>
        <script type="text/javascript">
            var elem = document.getElementById("exporterId");
            elem.onchange = function () {
                document.getElementById("printExpId").innerHTML = $('#exporterId option:selected').text();
                var elements = document.getElementsByClassName("formHidden");
                for (var i = 0, length = elements.length; i < length; i++) {
                    elements[i].style.display = (elem.value == "") ? "none" : "block";
                }
                var exporterId = $('#exporterId option:selected').val();
               
                var country = "Norway";
                if (exporterId === "1002") {
                    country = "China";
                } else if (exporterId === "1003") {
                    country = "UK";
                }
                var countryInput = "<input type ='hidden' name = 'country' id='country' value='" + country + "' >";
                $("#loginForm").append(countryInput);
                
            };



        </script>

    </section>
    <!--End of Scrollable-->
</section>
<!--End of vbox-->
<script src="../assets/js/jquery.min.js"></script>
<!-- Bootstrap -->
<script src="../assets/js/bootstrap.js"></script>
<!-- App -->
<script src="../assets/js/app.js"></script> 
<script src="../assets/js/slimscroll/jquery.slimscroll.min.js"></script>

<script type="text/javascript" src="../assets/js/datepicker/bootstrap-datetimepicker.js" charset="UTF-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.js" charset="UTF-8"></script>

<!--<script src="../assets/js/applyLc.js"></script>
<script src="../assets/js/retrieveRefNumList.js"></script>
<!--<script src="../assets/js/applyLcBc.js"></script>-->
<script src="../assets/js/Utility/globalFunctions.js"></script>
<script src="../assets/js/DAO/apiUrl.js"></script>
<script src="../assets/js/DAO/lcHandling.js"></script>
<script src="../assets/js/DAO/statusHandling.js"></script>
<script src="../assets/js/Utility/lcOperations.js"></script>
<script type="text/javascript">
            $('.form_date').datetimepicker({
                weekStart: 1,
                todayBtn: 1,
                autoclose: 1,
                todayHighlight: 1,
                startView: 2,
                minView: 2,
                forceParse: 0
            });
</script>
<script type="text/javascript">
    $("#create_button_api").click(function () {

        applyLcOperation(); //caling this method from assets/js/Utility/lcOperations.js

    });
</script>




